# encoding: UTF-8

ABSLOAD_BIN := $(BIN_DIR)/absload

ABSLOAD_INC_DIR := $(ABSLOAD_DIR)/inc
ABSLOAD_SRC_DIR := $(ABSLOAD_DIR)/src
ABSLOAD_OBJ_DIR := $(ABSLOAD_DIR)/obj
ABSLOAD_DEP_DIR := $(ABSLOAD_DIR)/dep

# ABSLOAD INCLUDES
ABSLOAD_INCLUDES := -I $(ABSLOAD_INC_DIR)
ABSLOAD_INCLUDES += 

# ABSLOAD DEFINITIONS
ABSLOAD_DEFINITIONS := 
ABSLOAD_DEFINITIONS += 

# ABSLOAD SOURCES
ABSLOAD_SRCS_NOTDIR := $(notdir $(wildcard $(ABSLOAD_SRC_DIR)/*.c))

# ABSLOAD OBJECTS
ABSLOAD_OBJS := $(patsubst %.c, $(ABSLOAD_OBJ_DIR)/%.o, $(ABSLOAD_SRCS_NOTDIR))

# ABSLOAD DEPENDENCIES
ABSLOAD_DEPS := $(patsubst %.c, $(ABSLOAD_DEP_DIR)/%.d, $(ABSLOAD_OBJS_NOTDIR))

$(ABSLOAD_OBJ_DIR)/%.o: $(ABSLOAD_SRC_DIR)/%.c
	$(CC) -c $< $(FLAGS) $(ABSLOAD_INCLUDES) -MM -MF \
$(addprefix $(ABSLOAD_DEP_DIR)/, $(patsubst $(ABSLOAD_OBJ_DIR)/%.o, %.d, $@))
	$(CC) -c $< $(FLAGS) $(ABSLOAD_INCLUDES) -o $@

-include $(ABSLOAD_DEPS)